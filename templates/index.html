<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta name="_csrf" content="[[${_csrf.token}]]"/>
    <meta name="_csrf_header" content="[[${_csrf.headerName}]]"/>
    <title>HTML base Tag Example</title>
</head>
<body>
<h1>Базовая страница</h1>
<ul>
    <li th:each="item : ${query}">
        <ul>
            <p th:text="${item.string}">string</p>
            <p th:text="${item.source}">source</p>
            <p th:text="${item.date}">date</p>
            <p th:text="${item.number}">number</p>
        </ul>
    </li>
</ul>
</body>
<script>
    const token = document.querySelector('meta[name="_csrf"]').content;
    const header = document.querySelector('meta[name="_csrf_header"]').content;

    fetch('/rest/pages', {
        method: 'GET',
        headers: {
            [header]: token,
            'Content-Type': 'application/json'
        },
        credentials: 'same-origin'
    })
    .then(r => r.json())
    .then(console.log);
</script>
</html>